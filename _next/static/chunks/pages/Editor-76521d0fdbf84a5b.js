(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[400],{4754:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Editor",function(){return c(1459)}])},3565:function(a,b,c){"use strict";c.d(b,{z:function(){return p}});var d,e,f=c(6042),g=c(9396),h=c(9534),i=c(7297),j=c(5893);c(7294);var k=c(2125);function l(){var a=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  background: ",';\n  color: #ffffff;\n  padding: 8px 16px;\n  min-width: 60px;\n  min-height: 32px;\n  border-radius: 3px;\n  font-size: 14px;\n  font-weight: 500;\n  font-family: "Catamaran", sans-serif;\n  width: ',";\n  height: 40px;\n  background-image: none;\n\n  :disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n\n  div {\n    white-space: normal;\n    margin: 0 auto;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n\n  &:hover {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\n  }\n\n  @media only screen and (max-width: 768px) {\n    font-size: 14px;\n  }\n"]);return l=function(){return a},a}function m(){var a=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return m=function(){return a},a}(d=e||(e={})).PRIMARY="PRIMARY",d.SECONDARY="BLURPLE",d.DANGER="DANGER",d.SUCCESS="SEAGREEN",d.WARNING="ORANGE";var n=k.ZP.button(l(),function(a){var b,c,d=a.status,f=a.theme;return b=d,(c=f)[e[b]]},function(a){return a.block?"100%":"fit-content"}),o=k.ZP.div(m()),p=function(a){var b=a.children,c=a.status,d=a.block,e=a.link,i=(0,h.Z)(a,["children","status","block","link"]);return(0,j.jsx)(n,(0,g.Z)((0,f.Z)({as:void 0!==e&&e?"a":"button",type:"button",status:null!=c?c:"PRIMARY",block:void 0!==d&&d},i),{children:(0,j.jsx)(o,{children:b})}))}},1427:function(a,b,c){"use strict";c.d(b,{I:function(){return j}});var d=c(6042),e=c(7297),f=c(5893);c(7294);var g=c(2125);function h(){var a=(0,e.Z)(["\n  background: ",";\n  color: ",";\n  outline: none;\n  border: none;\n  border-radius: 4px;\n  line-height: 32px;\n  padding: 10px;\n  width: 100%;\n  margin-bottom: 10px;\n  height: 40px;\n"]);return h=function(){return a},a}var i=g.ZP.input(h(),function(a){return a.theme.BACKGROUND_TERTIARY},function(a){return a.theme.INTERACTIVE_NORMAL}),j=function(a){return(0,f.jsx)(i,(0,d.Z)({},a))}},1342:function(a,b,c){"use strict";c.d(b,{u:function(){return C}});var d=c(5893),e=c(7294),f=c(3565),g=c(7297),h=c(2125);function i(){var a=(0,g.Z)(["\n  from { transform: scale(0.6); opacity: 0; }\n  to { transform: scale(1); opacity: 1; };\n"]);return i=function(){return a},a}function j(){var a=(0,g.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.85);\n  z-index: 36;\n\n  * {\n    box-sizing: border-box;\n  }\n"]);return j=function(){return a},a}function k(){var a=(0,g.Z)(["\n  min-width: 440px;\n  max-width: 490px;\n  width: fit-content;\n  animation: "," 220ms ease-in-out;\n  line-height: 20px;\n\n  @media only screen and (max-width: 768px) {\n    min-width: 90%;\n    max-width: 90%;\n  }\n"]);return k=function(){return a},a}function l(){var a=(0,g.Z)(["\n  color: ",";\n  font-size: 20px !important;\n  margin: 0;\n"]);return l=function(){return a},a}function m(){var a=(0,g.Z)(["\n  background: ",";\n  padding: 16px;\n  border-radius: 5px 5px 0 0;\n"]);return m=function(){return a},a}function n(){var a=(0,g.Z)(["\n  color: ",";\n  background: ",";\n  padding: 16px;\n  overflow: hidden auto;\n"]);return n=function(){return a},a}function o(){var a=(0,g.Z)(["\n  display: flex;\n  flex-direction: row-reverse;\n  background: ",";\n  padding: 16px;\n  border-radius: 0 0 5px 5px;\n  gap: 10px;\n"]);return o=function(){return a},a}var p=(0,h.F4)(i()),q=h.ZP.div(j()),r=h.ZP.div(k(),p),s=h.ZP.h2(l(),function(a){return a.theme.INTERACTIVE_ACTIVE}),t=h.ZP.div(m(),function(a){return a.theme.MODAL_BACKGROUND}),u=h.ZP.div(n(),function(a){return a.theme.TEXT_NORMAL},function(a){return a.theme.MODAL_BACKGROUND}),v=h.ZP.div(o(),function(a){return a.theme.BACKGROUND_SECONDARY}),w=c(828),x=function(a){var b=(0,w.Z)(e.useState(!1),2),c=b[0],d=b[1];return e.useEffect(function(){var b=function(b){b.key===a&&d(!0)},c=function(b){b.key===a&&d(!1)};return window.addEventListener("keydown",b),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",b),window.removeEventListener("keyup",c)}},[a]),c},y=x,z=function(a){var b=a.children;return(0,d.jsx)(t,{children:(0,d.jsx)(s,{children:b})})},A=function(a){var b=a.children;return(0,d.jsx)(u,{children:b})},B=function(a){var b=a.children,c=a.setVisible,g=y("Escape");return e.useEffect(function(){g&&c(!1)},[g,c]),(0,d.jsxs)(v,{children:[(0,d.jsx)(f.z,{onClick:function(){return c(!1)},children:"关闭"}),b]})},C=function(a){var b=a.children,c=a.visible,e=a.setVisible,f=function(a){a.currentTarget===a.target&&e(function(a){return!a})};return c?(0,d.jsx)(q,{onClick:f,children:(0,d.jsx)(r,{children:b})}):null};C.Header=z,C.Content=A,C.Controls=B},7471:function(a,b,c){"use strict";c.d(b,{"_":function(){return F}});var d=c(7568),e=c(4924),f=c(6042),g=c(9396),h=c(828),i=c(7297),j=c(4051),k=c.n(j),l=c(5893),m=c(7294),n=c(9647),o=c(6293),p=c(3565),q=c(1427),r=c(1342),s=c(713),t=c(2125),u=c(6501),v=c(9189);function w(){var a=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: 12px 0;\n  border-top: 1px solid ",";\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: ",";\n\n  &:first-of-type {\n    padding-top: 0;\n    border: none;\n  }\n"]);return w=function(){return a},a}function x(){var a=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]);return x=function(){return a},a}function y(){var a=(0,i.Z)(["\n  flex: 1;\n  width: 100%;\n  height: auto;\n  border-radius: 6px;\n  background: ",";\n  border: 1px solid;\n  border-color: rgba(0, 0, 0, 0.1);\n"]);return y=function(){return a},a}var z={card:{background:"transparent",boxShadow:"none"},body:{padding:0},input:{background:"rgba(0, 0, 0, 0.2)",boxShadow:"none",textTransform:"none",whiteSpace:"nowrap",textOverflow:"ellipsis"},hash:{background:"rgba(180, 180, 180, 0.3)"}},A=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","transparent",];function B(a,b){var c=document.createElement("a");c.download=b,c.href=a,document.body.appendChild(c),c.click(),document.body.removeChild(c)}var C=t.ZP.div(w(),function(a){return a.theme.BACKGROUND_MODIFIER_ACCENT},function(a){return a.theme.INTERACTIVE_NORMAL}),D=t.ZP.div(x()),E=t.ZP.div(y(),function(a){return a.color}),F=function(a){var b,c,i=a.visible,j=a.setVisible,t=(0,v.Z)(function(a){return a.setConfig}),w=(0,h.Z)(m.useState({filename:"Json 图片",backgroundColor:"transparent",quality:1}),2),x=w[0],y=w[1],F=(b=(0,d.Z)(k().mark(function a(){var b,c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,u.ZP.loading("正在复制...",{id:"toastClipboard"}),t("performanceMode",!1),b=document.querySelector("svg[id*='ref']"),a.next=6,(0,o.SE)(b,{quality:x.quality,backgroundColor:x.backgroundColor});case 6:if(c=a.sent){a.next=9;break}return a.abrupt("return");case 9:navigator.clipboard.write([new ClipboardItem((0,e.Z)({},c.type,c)),]),u.ZP.success("已复制到剪贴板"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),u.ZP.error("复制到剪贴板失败");case 16:return a.prev=16,u.ZP.dismiss("toastClipboard"),j(!1),t("performanceMode",!0),a.finish(16);case 21:case"end":return a.stop()}},a,null,[[0,13,16,21]])})),function(){return b.apply(this,arguments)}),G=(c=(0,d.Z)(k().mark(function a(){var b,c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,u.ZP.loading("Downloading...",{id:"toastDownload"}),t("performanceMode",!1),b=document.querySelector("svg[id*='ref']"),a.next=6,(0,o.YM)(b,{quality:x.quality,backgroundColor:x.backgroundColor});case 6:B(c=a.sent,"".concat(x.filename,".png")),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),u.ZP.error("导出图片失败");case 13:return a.prev=13,u.ZP.dismiss("toastDownload"),j(!1),t("performanceMode",!0),a.finish(13);case 18:case"end":return a.stop()}},a,null,[[0,10,13,18]])})),function(){return c.apply(this,arguments)}),H=function(a,b){return y((0,g.Z)((0,f.Z)({},x),(0,e.Z)({},a,b)))};return(0,l.jsxs)(r.u,{visible:i,setVisible:j,children:[(0,l.jsx)(r.u.Header,{children:"导出图片"}),(0,l.jsxs)(r.u.Content,{children:[(0,l.jsxs)(C,{children:["文件名",(0,l.jsx)(D,{children:(0,l.jsx)(q.I,{placeholder:"File Name",value:x.filename,onChange:function(a){return H("filename",a.target.value)}})})]}),(0,l.jsxs)(C,{children:["背景颜色",(0,l.jsxs)(D,{children:[(0,l.jsx)(s.e8,{triangle:"hide",colors:A,color:x.backgroundColor,onChange:function(a){return H("backgroundColor",a.hex)},styles:{default:z}}),(0,l.jsx)(E,{color:x.backgroundColor})]})]})]}),(0,l.jsxs)(r.u.Controls,{setVisible:j,children:[(0,l.jsxs)(p.z,{status:"SECONDARY",onClick:F,children:[(0,l.jsx)(n.C3L,{size:18}),"拷贝"]}),(0,l.jsxs)(p.z,{status:"SUCCESS",onClick:G,children:[(0,l.jsx)(n._hL,{size:18}),"导出"]})]})]})}},3719:function(a,b,c){"use strict";c.d(b,{Z:function(){return l}});var d=c(4924),e=c(6042),f=c(9396),g=c(6902),h=function(a,b){var c=a.map(function(a){return a.id});return b.filter(function(a){return c.includes(a.from)||c.includes(a.to)})},i=c(9815),j=function(a,b,c){var d=[],e=function(a){var f,g=c.filter(function(b){return b.from===a}).map(function(a){return a.to}),h=b.filter(function(a){return g.includes(a.id)});(f=d).push.apply(f,(0,i.Z)(h)),h.forEach(function(a){return e(a.id)})};return e(a),d},k={nodes:[],edges:[],collapsedNodes:[],collapsedEdges:[]},l=(0,g.ZP)(function(a,b){return(0,f.Z)((0,e.Z)({},k),{setGraphValue:function(b,c){return a((0,d.Z)({collapsedNodes:[],collapsedEdges:[]},b,c))},expandNodes:function(c){var d=j(c,b().nodes,b().edges),e=h(d,b().edges),f=d.map(function(a){return a.id}),g=e.map(function(a){return a.id});a({collapsedNodes:b().collapsedNodes.filter(function(a){return!f.includes(a)}),collapsedEdges:b().collapsedEdges.filter(function(a){return!g.includes(a)})})},collapseNodes:function(c){var d=j(c,b().nodes,b().edges),e=h(d,b().edges),f=d.map(function(a){return a.id}),g=e.map(function(a){return a.id});a({collapsedNodes:b().collapsedNodes.concat(f),collapsedEdges:b().collapsedEdges.concat(g)})}})})},1459:function(a,b,c){"use strict";c.r(b),c.d(b,{StyledEditorWrapper:function(){return a3},StyledPageWrapper:function(){return a2},default:function(){return a4}});var d=c(7297),e=c(5893),f=c(7294),g=c(9008),h=c.n(g),i=c(2125),j=c(524),k=c(828),l=c(5434);function m(){var a=(0,d.Z)(["\n  z-index: 1;\n"]);return m=function(){return a},a}function n(){var a=(0,d.Z)(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  padding: 4px 16px;\n  height: 28px;\n  border-radius: 0;\n  justify-content: space-between;\n  align-items: center;\n  color: ",";\n  pointer-events: ",";\n  background: ",";\n  box-shadow: 0 1px 0px ",";\n"]);return n=function(){return a},a}function o(){var a=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 500;\n  gap: 10px;\n  font-size: 16px;\n"]);return o=function(){return a},a}function p(){var a=(0,d.Z)(["\n  color: ",";\n  border-bottom: 1px solid ",";\n  font-size: 12px;\n  padding: 12px;\n  margin: 0;\n  word-wrap: break-word;\n  white-space: pre-line;\n"]);return p=function(){return a},a}var q=i.ZP.div(m()),r=i.ZP.div(n(),function(a){var b=a.theme;return a.error?b.TEXT_DANGER:b.TEXT_POSITIVE},function(a){return!a.error&&"none"},function(a){return a.theme.BACKGROUND_SECONDARY},function(a){return a.theme.BACKGROUND_TERTIARY}),s=i.ZP.span(o());i.ZP.pre(p(),function(a){return a.theme.TEXT_DANGER},function(a){return a.theme.SILVER_DARK});var t=function(a){var b=a.hasError;return(0,e.jsx)(q,{children:(0,e.jsx)(r,{error:b,children:(0,e.jsxs)(s,{children:[b?(0,e.jsx)(l.pKf,{size:20}):(0,e.jsx)(l.S5G,{size:20}),b?"JSON 解析失败":"JSON 有效"]})})})},u=c(9604);function v(){var a=(0,d.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: grid;\n  place-content: center;\n  width: 100%;\n  height: 100vh;\n  text-align: center;\n  background: ",";\n  z-index: 36;\n"]);return v=function(){return a},a}function w(){var a=(0,d.Z)(["\n  font-weight: 600;\n  font-size: 56px;\n  pointer-events: none;\n  margin-bottom: 10px;\n"]);return w=function(){return a},a}function x(){var a=(0,d.Z)(["\n  color: #faa81a;\n"]);return x=function(){return a},a}function y(){var a=(0,d.Z)(["\n  color: #b9bbbe;\n  font-size: 24px;\n  font-weight: 500;\n"]);return y=function(){return a},a}var z=i.ZP.div(v(),function(a){return a.theme.BLACK_DARK}),A=i.ZP.h2(w()),B=i.ZP.span(x()),C=i.ZP.div(y()),D=function(a){var b=a.message;return(0,e.jsxs)(z,{children:[(0,e.jsxs)(A,{children:[(0,e.jsx)(B,{children:"JSON"})," Crack"]}),(0,e.jsx)(C,{children:null!=b?b:"Preparing the environment for you..."})]})},E=c(369),F=c(9189),G=c(9577),H=c(3719);function I(){var a=(0,d.Z)(["\n  display: grid;\n  height: calc(100vh - 36px);\n  grid-template-columns: 100%;\n  grid-template-rows: minmax(0, 1fr);\n"]);return I=function(){return a},a}u._m.config({paths:{vs:"_next/static/chunks/cloudflare"}});var J={formatOnPaste:!0,minimap:{enabled:!1}},K=i.ZP.div(I()),L=function(a){var b=a.setHasError,c=(0,F.Z)(function(a){return a.json}),d=(0,F.Z)(function(a){return a.expand}),g=(0,F.Z)(function(a){return a.setJson}),h=(0,H.Z)(function(a){return a.setGraphValue}),i=(0,k.Z)(f.useState(""),2),j=i[0],l=i[1],m=(0,G.Z)(function(a){return a.lightmode?"light":"vs-dark"});return f.useEffect(function(){var a=(0,E.E)(c,d),b=a.nodes,e=a.edges;h("nodes",b),h("edges",e),l(c)},[d,c,h]),f.useEffect(function(){var a=setTimeout(function(){try{if(!j)return b(!1),g("{}");var a=JSON.stringify(JSON.parse(j),null,2);g(a),b(!1)}catch(c){b(!0)}},1200);return function(){return clearTimeout(a)}},[j,g,b]),(0,e.jsx)(K,{children:(0,e.jsx)(u.ZP,{height:"100%",defaultLanguage:"json",value:j,theme:m,options:J,onChange:l,loading:(0,e.jsx)(D,{message:"正在加载..."})})})};function M(){var a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: auto;\n  user-select: none;\n"]);return M=function(){return a},a}var N=i.ZP.div(M()),O=function(){var a=(0,k.Z)(f.useState(!1),2),b=a[0],c=a[1];return(0,e.jsxs)(N,{children:[(0,e.jsx)(t,{hasError:b}),(0,e.jsx)(L,{setHasError:c})]})},P=c(5152),Q=c.n(P);function R(){var a=(0,d.Z)(["\n  position: relative !important;\n  display: flex;\n  background: ",";\n"]);return R=function(){return a},a}c(1722);var S=(0,i.ZP)(j.oL)(R(),function(a){return a.theme.BACKGROUND_SECONDARY}),T=Q()(function(){return Promise.all([c.e(987),c.e(866),c.e(434),c.e(907),c.e(260),c.e(574),c.e(111)]).then(c.bind(c,1111))},{loadableGenerated:{webpack:function(){return[1111]}},ssr:!1}),U=function(){var a=(0,F.Z)(function(a){return a.hideEditor}),b=(0,F.Z)(function(a){return a.setConfig}),c=window.innerWidth<=768;return f.useEffect(function(){c&&b("hideEditor",!0)},[c,b]),(0,e.jsxs)(S,{proportionalLayout:!1,vertical:c,children:[(0,e.jsx)(j.oL.Pane,{preferredSize:c?"100%":400,minSize:a?0:300,maxSize:c?1/0:500,visible:!a,children:(0,e.jsx)(O,{})}),(0,e.jsx)(j.oL.Pane,{minSize:0,maxSize:c&&!a?0:1/0,children:(0,e.jsx)(T,{})})]})},V=c(6501),W=c(1664),X=c.n(W),Y=c(9327),Z=c(471),$=c(8193),_=c(9647),aa=c(6042),ab=c(9396),ac=c(9534);function ad(){var a=(0,d.Z)(["\n  position: relative;\n  width: fit-content;\n  height: 100%;\n"]);return ad=function(){return a},a}function ae(){var a=(0,d.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(calc(100% + 15px), 25%);\n  z-index: 2;\n  background: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 4px 8px;\n  display: ",';\n  white-space: nowrap;\n  font-size: 16px;\n  user-select: none;\n  font-weight: 500;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.07),\n    0 4px 8px rgba(0, 0, 0, 0.07), 0 8px 16px rgba(0, 0, 0, 0.07),\n    0 16px 32px rgba(0, 0, 0, 0.07), 0 32px 64px rgba(0, 0, 0, 0.07);\n\n  &::after {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    transform: translate(-90%, 50%);\n    border-width: 8px;\n    border-style: solid;\n    border-color: transparent ',"\n      transparent transparent;\n  }\n\n  @media only screen and (max-width: 768px) {\n    display: none;\n  }\n"]);return ae=function(){return a},a}function af(){var a=(0,d.Z)([""]);return af=function(){return a},a}var ag=i.ZP.div(ad()),ah=i.ZP.div(ae(),function(a){return a.theme.BACKGROUND_PRIMARY},function(a){return a.theme.TEXT_NORMAL},function(a){return a.visible?"initial":"none"},function(a){return a.theme.BACKGROUND_PRIMARY}),ai=i.ZP.div(af()),aj=function(a){var b=a.children,c=a.title,d=(0,ac.Z)(a,["children","title"]),g=(0,k.Z)(f.useState(!1),2),h=g[0],i=g[1];return(0,e.jsxs)(ag,(0,ab.Z)((0,aa.Z)({},d),{children:[c&&(0,e.jsx)(ah,{visible:h,children:c}),(0,e.jsx)(ai,{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:b})]}))},ak=c(1163),al=c(1342),am=c(3565),an=c(1427);function ao(){var a=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return ao=function(){return a},a}function ap(){var a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n  border: 2px dashed ",';\n  border-radius: 5px;\n  width: 100%;\n  min-height: 200px;\n  padding: 16px;\n  cursor: pointer;\n\n  input[type="file"] {\n    display: none;\n  }\n']);return ap=function(){return a},a}function aq(){var a=(0,d.Z)(["\n  color: ",";\n"]);return aq=function(){return a},a}function ar(){var a=(0,d.Z)(["\n  color: ",";\n  margin-bottom: 0;\n"]);return ar=function(){return a},a}var as=(0,i.ZP)(al.u.Content)(ao()),at=i.ZP.label(ap(),function(a){return a.theme.BACKGROUND_SECONDARY},function(a){return a.theme.BACKGROUND_TERTIARY}),au=i.ZP.span(aq(),function(a){return a.theme.INTERACTIVE_NORMAL}),av=i.ZP.h3(ar(),function(a){return a.theme.INTERACTIVE_ACTIVE}),aw=function(a){var b,c=a.visible,d=a.setVisible,g=(0,F.Z)(function(a){return a.setJson}),h=(0,k.Z)(f.useState(""),2),i=h[0],j=h[1],l=(0,k.Z)(f.useState(null),2),m=l[0],n=l[1],o=function(a){var b;a.target.files&&n(null===(b=a.target.files)|| void 0===b?void 0:b.item(0))},p=function(){if(i)return n(null),V.ZP.loading("Loading...",{id:"toastFetch"}),fetch(i).then(function(a){return a.json()}).then(function(a){g(JSON.stringify(a)),d(!1)}).catch(function(){return V.ZP.error("Failed to fetch JSON!")}).finally(function(){return V.ZP.dismiss("toastFetch")});if(m){var a=new FileReader;a.readAsText(m,"UTF-8"),a.onload=function(a){var b;g(null===(b=a.target)|| void 0===b?void 0:b.result),d(!1)}}};return(0,e.jsxs)(al.u,{visible:c,setVisible:d,children:[(0,e.jsx)(al.u.Header,{children:"导入 JSON"}),(0,e.jsxs)(as,{children:[(0,e.jsx)(an.I,{value:i,onChange:function(a){return j(a.target.value)},type:"url",placeholder:"要获取 JSON 的网址"}),(0,e.jsxs)(at,{children:[(0,e.jsx)("input",{onChange:o,type:"file",accept:"application/JSON"},null==m?void 0:m.name),(0,e.jsx)($.aBR,{size:48}),(0,e.jsx)(av,{children:"打开 JSON 文件"}),(0,e.jsx)(au,{children:null!==(b=null==m?void 0:m.name)&& void 0!==b?b:"未选择文件"})]})]}),(0,e.jsx)(al.u.Controls,{setVisible:d,children:(0,e.jsx)(am.z,{status:"SECONDARY",onClick:p,disabled:!(m||i),children:"导入"})})]})},ax=function(a){var b=a.visible,c=a.setVisible,d=(0,F.Z)(function(a){return a.setJson}),f=function(){d("{}"),V.ZP.success("编辑区已清空并已从内存中清除"),c(!1)};return(0,e.jsxs)(al.u,{visible:b,setVisible:c,children:[(0,e.jsx)(al.u.Header,{children:"清空 JSON"}),(0,e.jsx)(al.u.Content,{children:"注意：确定要清空编辑区的 JSON 吗?"}),(0,e.jsx)(al.u.Controls,{setVisible:c,children:(0,e.jsx)(am.z,{status:"DANGER",onClick:f,children:"确定"})})]})},ay=c(7516),az=c(8305),aA=c(9193);function aB(){var a=(0,d.Z)([""]);return aB=function(){return a},a}function aC(){var a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  font-weight: 600;\n"]);return aC=function(){return a},a}function aD(){var a=(0,d.Z)(["\n  display: flex;\n  gap: 12px;\n"]);return aD=function(){return a},a}function aE(){var a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: 12px 0;\n  border-top: 1px solid ",";\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: ",";\n\n  &:first-of-type {\n    padding-top: 0;\n    border: none;\n  }\n"]);return aE=function(){return a},a}var aF=i.ZP.p(aB()),aG=i.ZP.div(aC(),function(a){return a.theme.TEXT_DANGER}),aH=i.ZP.div(aD()),aI=i.ZP.div(aE(),function(a){return a.theme.BACKGROUND_MODIFIER_ACCENT},function(a){return a.theme.INTERACTIVE_NORMAL}),aJ=function(a){var b=a.visible,c=a.setVisible,d=(0,F.Z)(function(a){return a.json}),g=(0,k.Z)(f.useState(""),2),h=g[0],i=g[1],j='<iframe src="'.concat(aA.v,"/widget?json=").concat(h,'" width="512" height="384" style="border: 2px solid #b9bbbe; border-radius: 6px;"></iframe>'),l="".concat(aA.v,"/editor?json=").concat(h);f.useEffect(function(){if(b){var a=(0,az.nN)(JSON.parse(d)),c=JSON.stringify(a);i(encodeURIComponent(c))}},[d,b]);var m=function(a){navigator.clipboard.writeText(a),V.ZP.success("Link copied to clipboard."),c(!1)};return(0,e.jsxs)(al.u,{visible:b,setVisible:c,children:[(0,e.jsx)(al.u.Header,{children:"创建分享链接"}),(0,e.jsx)(al.u.Content,{children:h.length>5e3?(0,e.jsxs)(aG,{children:[(0,e.jsx)(ay.tJu,{size:60}),(0,e.jsx)(aF,{children:"链接大小超过5000个字符，无法为该大小的文件生成链接！"})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(aI,{children:["分享链接",(0,e.jsxs)(aH,{children:[(0,e.jsx)(an.I,{value:l,type:"url",readOnly:!0}),(0,e.jsx)(am.z,{status:"SECONDARY",onClick:function(){return m(l)},children:"复制"})]})]}),(0,e.jsxs)(aI,{children:["HTML 语句",(0,e.jsxs)(aH,{children:[(0,e.jsx)(an.I,{value:j,type:"url",readOnly:!0}),(0,e.jsx)(am.z,{status:"SECONDARY",onClick:function(){return m(j)},children:"复制"})]})]})]})}),(0,e.jsx)(al.u.Controls,{setVisible:c})]})},aK=c(3854),aL=c(374),aM=c(7471);function aN(){var a=(0,d.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  width: fit-content;\n  background: ",";\n  padding: 4px;\n  border-right: 1px solid ",";\n\n  @media only screen and (max-width: 768px) {\n    flex-direction: row;\n    width: 100%;\n  }\n"]);return aN=function(){return a},a}function aO(){var a=(0,d.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  font-size: 26px;\n  font-weight: 600;\n  width: fit-content;\n  color: ",";\n  cursor: pointer;\n\n  svg {\n    padding: 12px 8px;\n    vertical-align: middle;\n  }\n\n  a {\n    display: flex;\n  }\n\n  &:hover :is(a, svg) {\n    color: ",";\n  }\n\n  @media only screen and (max-width: 768px) {\n    font-size: 22px;\n\n    svg {\n      padding: 8px 4px;\n      vertical-align: middle;\n    }\n  }\n"]);return aO=function(){return a},a}function aP(){var a=(0,d.Z)(["\n  color: ",";\n"]);return aP=function(){return a},a}function aQ(){var a=(0,d.Z)(["\n  transform: rotate(",");\n"]);return aQ=function(){return a},a}function aR(){var a=(0,d.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  .mobile {\n    display: none;\n  }\n\n  @media only screen and (max-width: 768px) {\n    justify-content: space-evenly;\n    flex-direction: row;\n\n    .mobile {\n      display: initial;\n    }\n\n    .desktop {\n      display: none;\n    }\n  }\n"]);return aR=function(){return a},a}function aS(){var a=(0,d.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  @media only screen and (max-width: 768px) {\n    display: none;\n  }\n"]);return aS=function(){return a},a}function aT(){var a=(0,d.Z)(["\n  color: ",";\n  padding: 8px 4px;\n  border-bottom: 1px solid ",";\n\n  @media only screen and (max-width: 768px) {\n    border-bottom: 0;\n  }\n"]);return aT=function(){return a},a}var aU=i.ZP.div(aN(),function(a){return a.theme.BACKGROUND_TERTIARY},function(a){return a.theme.BACKGROUND_MODIFIER_ACCENT}),aV=i.ZP.button(aO(),function(a){return a.theme.SIDEBAR_ICONS},function(a){return a.theme.INTERACTIVE_HOVER}),aW=i.ZP.span(aP(),function(a){var b=a.theme;return a.secondary?b.INTERACTIVE_HOVER:b.ORANGE}),aX=(0,i.ZP)(Y.S$H)(aQ(),function(a){var b=a.rotate;return"".concat(b,"deg")}),aY=i.ZP.nav(aR()),aZ=i.ZP.nav(aS()),a$=i.ZP.a(aT(),function(a){return a.theme.FULL_WHITE},function(a){return a.theme.BACKGROUND_MODIFIER_ACCENT}),a_=function(){var a=(0,F.Z)(function(a){return a.getJson}),b=(0,F.Z)(function(a){return a.setConfig}),c=(0,F.Z)(function(a){return a.centerView}),d=(0,k.Z)(f.useState(!1),2),g=d[0],h=d[1],i=(0,k.Z)(f.useState(!1),2),j=i[0],m=i[1],n=(0,k.Z)(f.useState(!1),2),o=n[0],p=n[1],q=(0,k.Z)(f.useState(!1),2),r=q[0],s=q[1];(0,ak.useRouter)().push;var t,u=(0,k.Z)((0,F.Z)(function(a){return[a.expand,a.layout,a.hideEditor]},aL.Z),3),v=u[0],w=u[1],x=u[2],y=function(){var b=document.createElement("a"),c=new Blob([a()],{type:"text/plain"});b.href=window.URL.createObjectURL(c),b.download="jsoncrack.json",b.click()},z=function(){b("expand",!v),(0,V.ZP)("".concat(v?"已缩小":"已扩大","节点"))},A=function(){var a=function(a){switch(a){case"RIGHT":return"DOWN";case"DOWN":return"LEFT";case"LEFT":return"UP";default:return"RIGHT"}}(w);b("layout",a)};return(0,e.jsxs)(aU,{children:[(0,e.jsxs)(aY,{children:[(0,e.jsx)(X(),{passHref:!0,href:"/",children:(0,e.jsxs)(aV,{as:a$,children:[(0,e.jsx)(aW,{children:"J"}),(0,e.jsx)(aW,{secondary:!0,children:"C"})]})}),(0,e.jsx)(aj,{className:"mobile",title:"Edit JSON",children:(0,e.jsx)(aV,{onClick:function(){return b("hideEditor",!x)},children:(0,e.jsx)($.$iz,{})})}),(0,e.jsx)(aj,{title:"导入文件",children:(0,e.jsx)(aV,{onClick:function(){return h(!0)},children:(0,e.jsx)($.O1u,{})})}),(0,e.jsx)(aj,{title:"旋转布局",children:(0,e.jsx)(aV,{onClick:A,children:(0,e.jsx)(aX,{rotate:"LEFT"===(t=w)?90:"UP"===t?180:"RIGHT"===t?270:360})})}),(0,e.jsx)(aj,{className:"mobile",title:"视图居中",children:(0,e.jsx)(aV,{onClick:c,children:(0,e.jsx)(l.XIv,{})})}),(0,e.jsx)(aj,{className:"desktop",title:v?"缩小节点":"扩大节点",children:(0,e.jsx)(aV,{title:"缩小/扩大节点",onClick:z,children:v?(0,e.jsx)(Z.DUJ,{}):(0,e.jsx)(Z.q6J,{})})}),(0,e.jsx)(aj,{className:"desktop",title:"保存 JSON",children:(0,e.jsx)(aV,{onClick:y,children:(0,e.jsx)($.JMf,{})})}),(0,e.jsx)(aj,{className:"mobile",title:"导出图像",children:(0,e.jsx)(aV,{onClick:function(){return s(!0)},children:(0,e.jsx)(_._hL,{})})}),(0,e.jsx)(aj,{title:"清空编辑区",children:(0,e.jsx)(aV,{onClick:function(){return m(!0)},children:(0,e.jsx)($.VPh,{})})}),(0,e.jsx)(aj,{className:"desktop",title:"分享",children:(0,e.jsx)(aV,{onClick:function(){return p(!0)},children:(0,e.jsx)($.uFt,{})})})]}),(0,e.jsxs)(aZ,{children:[(0,e.jsx)(aV,{children:(0,e.jsx)(X(),{href:"https://twitter.com/aykutsarach",children:(0,e.jsx)("a",{"aria-label":"Twitter",rel:"me",target:"_blank",children:(0,e.jsx)($.h3E,{})})})}),(0,e.jsx)(aV,{children:(0,e.jsx)(X(),{href:"https://github.com/AykutSarac/jsoncrack.com",children:(0,e.jsx)("a",{"aria-label":"GitHub",rel:"me",target:"_blank",children:(0,e.jsx)($.RrF,{})})})}),(0,e.jsx)(aV,{children:(0,e.jsx)(X(),{href:"https://github.com/sponsors/AykutSarac",children:(0,e.jsx)("a",{"aria-label":"GitHub Sponsors",rel:"me",target:"_blank",children:(0,e.jsx)(aK.dOX,{})})})})]}),(0,e.jsx)(aw,{visible:g,setVisible:h}),(0,e.jsx)(ax,{visible:j,setVisible:m}),(0,e.jsx)(aJ,{visible:o,setVisible:p}),(0,e.jsx)(aM._,{visible:r,setVisible:s})]})};function a0(){var a=(0,d.Z)(["\n  display: flex;\n  flex-direction: row;\n  height: 100vh;\n  width: 100%;\n\n  @media only screen and (max-width: 768px) {\n    position: fixed;\n    height: -webkit-fill-available;\n    flex-direction: column;\n  }\n"]);return a0=function(){return a},a}function a1(){var a=(0,d.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]);return a1=function(){return a},a}var a2=i.ZP.div(a0()),a3=i.ZP.div(a1()),a4=function(){return(0,e.jsxs)(a3,{children:[(0,e.jsxs)(h(),{children:[(0,e.jsx)("title",{children:"Editor | JSON Crack"}),(0,e.jsx)("meta",{name:"description",content:"View your JSON data in graphs instantly."})]}),(0,e.jsxs)(a2,{children:[(0,e.jsx)(a_,{}),(0,e.jsx)(a3,{children:(0,e.jsx)(U,{})})]})]})}},369:function(a,b,c){"use strict";c.d(b,{E:function(){return o}});var d=c(2670),e=c(9534),f=c(828),g=c(9815),h=c(6501),i=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1],c=arguments.length>2?arguments[2]:void 0,d="",e=("string"==typeof a?a:a.map(function(a){var b=(0,f.Z)(a,2),c=b[0],d=b[1];return"".concat(c,": ").concat(d)}).join("\n")).split("\n"),g=e.map(function(a){return a.length}).sort(function(a,b){return b-a})[0];return{width:c?35+8*g+(b?60:0):b?150:200,height:17.8*e.length<30?40:(e.length+1)*18}},j=function(a){var b=(0,f.Z)(a,2),c=(b[0],b[1]),e=Array.isArray(c)&&c.length,g=(0,d.Z)(c,Object);return null!==c&&(e||g)},k=function(a){var b=(0,f.Z)(a,2),c=(b[0],b[1]);return!(Array.isArray(c)||(0,d.Z)(c,Object))},l=function(a){var b,c=!(arguments.length>1)|| void 0===arguments[1]||arguments[1],e=arguments.length>2&& void 0!==arguments[2]?arguments[2]:(b=0,function(){return String(++b)});return a?[a].flat().map(function(a){var b,g=(b=a,(0,d.Z)(b,Object)?Object.entries(b).filter(k):String(b)),h=i(g,!1,c),m=h.width,n=h.height;return{id:e(),text:g,width:m,height:n,children:function(a){var b=!(arguments.length>1)|| void 0===arguments[1]||arguments[1],c=arguments.length>2?arguments[2]:void 0;return(0,d.Z)(a,Object)||(a=[a]),Object.entries(a).filter(j).flatMap(function(a){var d=(0,f.Z)(a,2),e=d[0],g=d[1],h=i(e,!0,b),j=h.width,k=h.height,m=l(g,b,c);return[{id:c(),text:e,children:m,width:j,height:k,data:{isParent:!0,hasChild:!!m.length}},]})}(a,c,e),data:{isParent:!1,hasChild:!1}}}):[]},m=function(a){return a.flatMap(function(a){var b=a.children;return[(0,e.Z)(a,["children"])].concat((0,g.Z)(m(b)))})},n=function(a){return a.flatMap(function(a){var b=a.id,c=a.children,d=void 0===c?[]:c;return(0,g.Z)(d.map(function(a){var c=a.id;return{id:"e".concat(b,"-").concat(c),from:b,to:c}})).concat((0,g.Z)(n(d)))})},o=function(a){var b=!(arguments.length>1)|| void 0===arguments[1]||arguments[1];try{var c=JSON.parse(a);Array.isArray(c)||(c=[c]);var d=[],e=[],f=l(c,b);return(0,g.Z)(m(f)).concat((0,g.Z)(n(f))).forEach(function(a){p(a)?d.push(a):e.push(a)}),{nodes:d,edges:e}}catch(i){return console.error(i),h.ZP.error("An error occured while parsing JSON data!"),{nodes:[],edges:[]}}};function p(a){return"text"in a}}},function(a){a.O(0,[228,556,90,955,874,617,279,544,774,888,179],function(){var b;return a(a.s=4754)}),_N_E=a.O()}])